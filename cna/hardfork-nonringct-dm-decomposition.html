<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DM Decomposition Analysis - CryptoNote Transaction Graph Analysis</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="requirements.html">Requirements</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Monero Analysis</li><li class="chapter-item expanded "><a href="download-blockchain.html"><strong aria-hidden="true">1.</strong> Download the Monero Blockchain</a></li><li class="chapter-item expanded "><a href="postgresql.html"><strong aria-hidden="true">2.</strong> Create PostgreSQL Tables</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="pg-keyimage.html"><strong aria-hidden="true">2.1.</strong> Create Key Image Table</a></li><li class="chapter-item expanded "><a href="pg-outputs.html"><strong aria-hidden="true">2.2.</strong> Create Outputs Table</a></li><li class="chapter-item expanded "><a href="pg-edges.html"><strong aria-hidden="true">2.3.</strong> Create Edges Table</a></li></ol></li><li class="chapter-item expanded "><a href="create-graph.html"><strong aria-hidden="true">3.</strong> Create the Transaction Graph</a></li><li class="chapter-item expanded "><a href="dm-decomposition.html"><strong aria-hidden="true">4.</strong> DM Decomposition Analysis</a></li><li class="chapter-item expanded "><a href="closed-set-attack.html"><strong aria-hidden="true">5.</strong> Closed Set Attack</a></li><li class="chapter-item expanded affix "><li class="part-title">Analysing Monero using Hard Forks</li><li class="chapter-item expanded "><a href="hardforks.html"><strong aria-hidden="true">6.</strong> What and Why of Hard Forks</a></li><li class="chapter-item expanded "><a href="create-fork-indices-column.html"><strong aria-hidden="true">7.</strong> Create Fork Indices Column</a></li><li class="chapter-item expanded "><a href="download-hardforks.html"><strong aria-hidden="true">8.</strong> Download Hard Fork Data</a></li><li class="chapter-item expanded "><a href="monero-original/index.html"><strong aria-hidden="true">9.</strong> Use Monero Original Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="monero-original/run-client.html"><strong aria-hidden="true">9.1.</strong> Run Monero Original Client</a></li><li class="chapter-item expanded "><a href="monero-original/postgresql.html"><strong aria-hidden="true">9.2.</strong> Create PostgreSQL Tables</a></li><li class="chapter-item expanded "><a href="monero-original/output-addresses.html"><strong aria-hidden="true">9.3.</strong> Find Output Addresses</a></li><li class="chapter-item expanded "><a href="monero-original/ring-intersections.html"><strong aria-hidden="true">9.4.</strong> Find Ring Intersections</a></li></ol></li><li class="chapter-item expanded "><a href="monerov/index.html"><strong aria-hidden="true">10.</strong> Use MoneroV Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="monerov/compile-client.html"><strong aria-hidden="true">10.1.</strong> Compile MoneroV Client</a></li><li class="chapter-item expanded "><a href="monerov/run-client.html"><strong aria-hidden="true">10.2.</strong> Run MoneroV Client</a></li><li class="chapter-item expanded "><a href="monerov/postgresql.html"><strong aria-hidden="true">10.3.</strong> Create PostgreSQL Tables</a></li><li class="chapter-item expanded "><a href="monerov/output-addresses.html"><strong aria-hidden="true">10.4.</strong> Find Output Addresses</a></li><li class="chapter-item expanded "><a href="monerov/ring-intersections.html"><strong aria-hidden="true">10.5.</strong> Find Ring Intersections</a></li></ol></li><li class="chapter-item expanded "><a href="monero-v7/index.html"><strong aria-hidden="true">11.</strong> Use Monero v7 Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="monero-v7/run-client.html"><strong aria-hidden="true">11.1.</strong> Run Monero v7 Client</a></li><li class="chapter-item expanded "><a href="monero-v7/postgresql.html"><strong aria-hidden="true">11.2.</strong> Create PostgreSQL Tables</a></li><li class="chapter-item expanded "><a href="monero-v7/output-addresses.html"><strong aria-hidden="true">11.3.</strong> Find Output Addresses</a></li><li class="chapter-item expanded "><a href="monero-v7/ring-intersections.html"><strong aria-hidden="true">11.4.</strong> Find Ring Intersections</a></li></ol></li><li class="chapter-item expanded "><a href="monero-v9/index.html"><strong aria-hidden="true">12.</strong> Use Monero v9 Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="monero-v9/run-client.html"><strong aria-hidden="true">12.1.</strong> Run Monero v9 Client</a></li><li class="chapter-item expanded "><a href="monero-v9/postgresql.html"><strong aria-hidden="true">12.2.</strong> Create PostgreSQL Tables</a></li><li class="chapter-item expanded "><a href="monero-v9/output-addresses.html"><strong aria-hidden="true">12.3.</strong> Find Output Addresses</a></li><li class="chapter-item expanded "><a href="monero-v9/ring-intersections.html"><strong aria-hidden="true">12.4.</strong> Find Ring Intersections</a></li></ol></li><li class="chapter-item expanded "><a href="update-fork-indices-column.html"><strong aria-hidden="true">13.</strong> Update Fork Indices Column</a></li><li class="chapter-item expanded "><a href="hardfork-ringct.html"><strong aria-hidden="true">14.</strong> RingCT Analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hardfork-ringct-edges.html"><strong aria-hidden="true">14.1.</strong> Create Edges Table</a></li><li class="chapter-item expanded "><a href="hardfork-ringct-create-graph.html"><strong aria-hidden="true">14.2.</strong> Create the Transaction Graph</a></li><li class="chapter-item expanded "><a href="hardfork-ringct-dm-decomposition.html"><strong aria-hidden="true">14.3.</strong> DM Decomposition Analysis</a></li><li class="chapter-item expanded "><a href="hardfork-ringct-closed-set-attack.html"><strong aria-hidden="true">14.4.</strong> Closed Set Attack</a></li></ol></li><li class="chapter-item expanded "><a href="hardfork-nonringct.html"><strong aria-hidden="true">15.</strong> Non-RingCT Analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hardfork-nonringct-edges.html"><strong aria-hidden="true">15.1.</strong> Create Edges Table</a></li><li class="chapter-item expanded "><a href="hardfork-nonringct-create-graph.html"><strong aria-hidden="true">15.2.</strong> Create the Transaction Graph</a></li><li class="chapter-item expanded "><a href="hardfork-nonringct-dm-decomposition.html" class="active"><strong aria-hidden="true">15.3.</strong> DM Decomposition Analysis</a></li><li class="chapter-item expanded "><a href="hardfork-nonringct-closed-set-attack.html"><strong aria-hidden="true">15.4.</strong> Closed Set Attack</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CryptoNote Transaction Graph Analysis</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dm-decomposition-analysis"><a class="header" href="#dm-decomposition-analysis">DM Decomposition Analysis</a></h1>
<ol>
<li>
<p>Compile the Rust binaries by running <code>cargo build --release</code> (if not already done).</p>
</li>
<li>
<p>Run the Dulmage-Mendelsohn decomposition program as follows.</p>
<pre><code>cargo run --release --bin dmdec fork-nonringct-csparse-edges-2530000.txt fork-nonringct-rings-before-dm-2530000.txt fork-nonringct-rings-after-dm-2530000.txt fork-nonringct-blocksizes-2530000.txt fork-nonringct-fine-decomp-2530000.txt
</code></pre>
<blockquote>
<p><strong>Note</strong>: The significance of the arguments to <code>dmdec</code> can be understood by running <code>cargo run -r --bin dmdec -- --help</code> or <code> ./target/release/dmdec --help</code>.</p>
</blockquote>
<p>The output should look like the following.</p>
<pre><code>Edge file read in 5.675253986s
Num keyimages = 19443292, Num public keys = 20800067
Matched 19443292 out of 20800067 rows (public keys)
Number of unreachable pubkeys and keyimages = 16526396 16526396
Number of blocks in fine decomposition: 16521000
Singletons (traceable keyimages): 16517926
Closed set size histogram: {1: 16517926, 2: 2301, 3: 600, 4: 48, 5: 22, 6: 8, 7: 15, 8: 11, 9: 8, 10: 5, 11: 5, 12: 4, 13: 6, 14: 4, 15: 6, 16: 5, 17: 5, 18: 4, 20: 3, 21: 2, 22: 1, 24: 1, 26: 1, 27: 1, 40: 1, 43: 1, 50: 1, 55: 1, 103: 1, 106: 1, 119: 1, 122: 1}
</code></pre>
<p>The above output says that out of the 19443292 non-RingCT transaction rings in the data set, 16517926 are traceable, i.e. the true output being spent in these transactions can be identified. Furthermore, Furthermore, there are 2301 closed sets of size 2, 600 closed sets of size 3, and so on.</p>
</li>
<li>
<p>To calculate statistics related to the DM decomposition analysis, run the following command.</p>
<pre><code>cargo run --release --bin stats_dm fork-nonringct-csparse-edges-2530000.txt fork-nonringct-rings-before-dm-2530000.txt fork-nonringct-rings-after-dm-2530000.txt
</code></pre>
<blockquote>
<p><strong>Note</strong>: The significance of the arguments to <code>stats_dm</code> can be understood by running <code>cargo run -r --bin stats_dm -- --help</code> or <code> ./target/release/stats_dm --help</code>.</p>
</blockquote>
<p>The output should look like the following.</p>
<pre><code>Edge file read in 8.158130482s
Num keyimages = 19443292, Num public keys = 20800067
Pre DM decomposition rings file read in 8.336915518s
Pre DM decomposition mixin histogram:
[12305154, 707819, 2941534, 1345577, 974689, 143811, 406889, 12399, 9523, 6703, 589194]
Post DM decomposition rings file read in 5.167356902s
Post DM decomposition mixin histogram:
[16517926, 1408040, 836524, 165293, 122570, 33646, 38653, 47624, 73866, 80811, 118339]
DM decomposition traceable ring mixin histogram:
[12305154, 628547, 1800799, 965797, 465084, 76061, 219040, 4484, 3706, 2362, 46892]
</code></pre>
<p>The above output can be interpreted as follows.</p>
<ul>
<li>Out of the 16517926 traceable non-RingCT rings, 12305154 had zero mixins (there were already traceable) before the DM decomposition, 628547 had one mixin before the DM decomposition, 1800799 had two mixins, and so on.</li>
<li>In the above histograms, we combine all mixin counts of 10 or more. So 589194 corresponds to the number of non-RingCT transaction rings with 10 or more mixins before the DM decomposition and 118339 is the same number after the DM decomposition.</li>
</ul>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="hardfork-nonringct-create-graph.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="hardfork-nonringct-closed-set-attack.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="hardfork-nonringct-create-graph.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="hardfork-nonringct-closed-set-attack.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
